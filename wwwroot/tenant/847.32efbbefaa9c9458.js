"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[847],{4954:(v,O,a)=>{a.d(O,{R:()=>U});var _=a(4522),g=a(8260),e=a(3668);let U=(()=>{class S{constructor(E){this.http=E}TenantBlobs(E,M,c){let d=new _.LE;return d=d.set("channelCode",E),d=d.set("channelAppId",M),d=d.set("tag",c),this.http.get(`${g.N.apiServer}/api/TenantBlobs?${d.toString()}`)}TenantBlobPost(E){return this.http.post(`${g.N.apiServer}/api/TenantBlobs`,E)}TenantBlob(E){return this.http.get(`${g.N.apiServer}/api/TenantBlobs/${E}`)}TenantBlobPut(E,M){return this.http.put(`${g.N.apiServer}/api/TenantBlobs/${E}`,M)}TenantBlobDelete(E){return this.http.delete(`${g.N.apiServer}/api/TenantBlobs/${E}`)}TenantBlobUpload(E,M,c){let d=new _.LE;return d=d.set("channelCode",E),d=d.set("channelAppId",M),this.http.post(`${g.N.apiServer}/api/TenantBlobs/Upload?${d.toString()}`,c)}}return S.\u0275fac=function(E){return new(E||S)(e.LFG(_.eN))},S.\u0275prov=e.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})()},8468:(v,O,a)=>{a.d(O,{i:()=>g});var _=a(3668);let g=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(S){return new(S||e)},e.\u0275cmp=_.Xpm({type:e,selectors:[["app-skeleton-table"]],decls:103,vars:0,consts:[[1,"col-12"],[1,"card"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"row","align-items-center"],[1,"col-auto"],[1,"skeleton-avatar"],[1,"col-7"],[1,"skeleton-line"],[1,"col-2","ms-auto","text-end"]],template:function(S,r){1&S&&(_.TgZ(0,"div",0),_.TgZ(1,"div",1),_.TgZ(2,"ul",2),_.TgZ(3,"li",3),_.TgZ(4,"div",4),_.TgZ(5,"div",5),_._UZ(6,"div",6),_.qZA(),_.TgZ(7,"div",7),_._UZ(8,"div",8),_._UZ(9,"div",8),_.qZA(),_.TgZ(10,"div",9),_._UZ(11,"div",8),_._UZ(12,"div",8),_.qZA(),_.qZA(),_.qZA(),_.TgZ(13,"li",3),_.TgZ(14,"div",4),_.TgZ(15,"div",5),_._UZ(16,"div",6),_.qZA(),_.TgZ(17,"div",7),_._UZ(18,"div",8),_._UZ(19,"div",8),_.qZA(),_.TgZ(20,"div",9),_._UZ(21,"div",8),_._UZ(22,"div",8),_.qZA(),_.qZA(),_.qZA(),_.TgZ(23,"li",3),_.TgZ(24,"div",4),_.TgZ(25,"div",5),_._UZ(26,"div",6),_.qZA(),_.TgZ(27,"div",7),_._UZ(28,"div",8),_._UZ(29,"div",8),_.qZA(),_.TgZ(30,"div",9),_._UZ(31,"div",8),_._UZ(32,"div",8),_.qZA(),_.qZA(),_.qZA(),_.TgZ(33,"li",3),_.TgZ(34,"div",4),_.TgZ(35,"div",5),_._UZ(36,"div",6),_.qZA(),_.TgZ(37,"div",7),_._UZ(38,"div",8),_._UZ(39,"div",8),_.qZA(),_.TgZ(40,"div",9),_._UZ(41,"div",8),_._UZ(42,"div",8),_.qZA(),_.qZA(),_.qZA(),_.TgZ(43,"li",3),_.TgZ(44,"div",4),_.TgZ(45,"div",5),_._UZ(46,"div",6),_.qZA(),_.TgZ(47,"div",7),_._UZ(48,"div",8),_._UZ(49,"div",8),_.qZA(),_.TgZ(50,"div",9),_._UZ(51,"div",8),_._UZ(52,"div",8),_.qZA(),_.qZA(),_.qZA(),_.TgZ(53,"li",3),_.TgZ(54,"div",4),_.TgZ(55,"div",5),_._UZ(56,"div",6),_.qZA(),_.TgZ(57,"div",7),_._UZ(58,"div",8),_._UZ(59,"div",8),_.qZA(),_.TgZ(60,"div",9),_._UZ(61,"div",8),_._UZ(62,"div",8),_.qZA(),_.qZA(),_.qZA(),_.TgZ(63,"li",3),_.TgZ(64,"div",4),_.TgZ(65,"div",5),_._UZ(66,"div",6),_.qZA(),_.TgZ(67,"div",7),_._UZ(68,"div",8),_._UZ(69,"div",8),_.qZA(),_.TgZ(70,"div",9),_._UZ(71,"div",8),_._UZ(72,"div",8),_.qZA(),_.qZA(),_.qZA(),_.TgZ(73,"li",3),_.TgZ(74,"div",4),_.TgZ(75,"div",5),_._UZ(76,"div",6),_.qZA(),_.TgZ(77,"div",7),_._UZ(78,"div",8),_._UZ(79,"div",8),_.qZA(),_.TgZ(80,"div",9),_._UZ(81,"div",8),_._UZ(82,"div",8),_.qZA(),_.qZA(),_.qZA(),_.TgZ(83,"li",3),_.TgZ(84,"div",4),_.TgZ(85,"div",5),_._UZ(86,"div",6),_.qZA(),_.TgZ(87,"div",7),_._UZ(88,"div",8),_._UZ(89,"div",8),_.qZA(),_.TgZ(90,"div",9),_._UZ(91,"div",8),_._UZ(92,"div",8),_.qZA(),_.qZA(),_.qZA(),_.TgZ(93,"li",3),_.TgZ(94,"div",4),_.TgZ(95,"div",5),_._UZ(96,"div",6),_.qZA(),_.TgZ(97,"div",7),_._UZ(98,"div",8),_._UZ(99,"div",8),_.qZA(),_.TgZ(100,"div",9),_._UZ(101,"div",8),_._UZ(102,"div",8),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA())},styles:[""]}),e})()},8847:(v,O,a)=>{a.r(O),a.d(O,{HttpLoaderFactory:()=>$,UsersModule:()=>le});var _=a(6019),g=a(3009),e=a(3668),U=a(2666),S=a(1427),r=a(9133),E=a(8468),M=a(4506),c=a(8736);function d(o,l){1&o&&e._UZ(0,"app-skeleton-table")}const F=function(o){return["/users",o]};function G(o,l){if(1&o&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"a",25),e._UZ(3,"img",26),e._uU(4),e.qZA(),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.qZA()),2&o){const t=l.$implicit;e.xp6(2),e.Q6J("routerLink",e.VKq(6,F,t.id)),e.xp6(1),e.Q6J("src",t.avatar,e.LSH),e.xp6(1),e.hij(" ",t.userName," "),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.phone),e.xp6(2),e.Oqu(t.createDate)}}function b(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",15),e.TgZ(1,"div",16),e.TgZ(2,"table",17),e.TgZ(3,"thead"),e.TgZ(4,"tr"),e.TgZ(5,"th",6),e.SDv(6,18),e.qZA(),e.TgZ(7,"th",6),e.SDv(8,19),e.qZA(),e.TgZ(9,"th",6),e.SDv(10,20),e.qZA(),e.TgZ(11,"th",6),e.SDv(12,21),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"tbody"),e.YNc(14,G,11,8,"tr",22),e.qZA(),e.qZA(),e.qZA(),e._UZ(15,"app-nodata",23),e.TgZ(16,"app-pager",24),e.NdJ("onemit",function(i){return e.CHM(t),e.oxw().onemit(i)}),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(14),e.Q6J("ngForOf",t.data.data),e.xp6(1),e.Q6J("show",t.data.data.length<1)("className","my-5"),e.xp6(1),e.Q6J("data",t.data)}}let X=(()=>{class o{constructor(t){this.serv=t,this.data={skip:0,take:10,data:[],total:0}}ngOnInit(){this.getData()}getData(){this.loading=!0,this.serv.Users(this.userName||"",this.phone||"",this.email||"",this.data.skip,this.data.take).subscribe(t=>{this.loading=!1,this.data.data=t.data.data,this.data.total=t.data.total})}onemit(t){this.data.skip=t,this.getData()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(U.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-users"]],decls:26,vars:15,consts:function(){let l,t,n,i,s,Z,A;return l=$localize`:@@主账号:主账号`,t=$localize`:@@条数据:条数据`,n=$localize`:@@查询:查询`,i=$localize`:@@用户名:用户名`,s=$localize`:@@邮箱:邮箱`,Z=$localize`:@@手机:手机`,A=$localize`:@@创建时间:创建时间`,[[1,"page-header","mt-0","mb-3"],[1,"row","align-items-center"],[1,"col"],["translate","",1,"page-title"],l,[1,"text-muted","mt-1"],["translate",""],t,[1,"col-auto","ms-auto","d-print-none"],[1,"row","g-3","mb-3"],["type","text",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","button","translate","",1,"btn","btn-indigo",3,"click"],n,[4,"ngIf","ngIfElse"],["templateName",""],[1,"card"],[1,"table-responsive","border-top"],[1,"table","card-table","table-vcenter","text-nowrap","datatable","table-hover"],i,s,Z,A,[4,"ngFor","ngForOf"],[3,"show","className"],[3,"data","onemit"],[3,"routerLink"],["width","28px","onerror","this.src='./assets/user_default.png'",1,"img-fluid",3,"src"]]},template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h2",3),e.SDv(4,4),e.qZA(),e.TgZ(5,"div",5),e._uU(6),e.TgZ(7,"span",6),e.SDv(8,7),e.qZA(),e.qZA(),e.qZA(),e._UZ(9,"div",8),e.qZA(),e.qZA(),e.TgZ(10,"div",9),e.TgZ(11,"div",2),e.TgZ(12,"input",10),e.NdJ("ngModelChange",function(s){return n.userName=s}),e.ALo(13,"translate"),e.qZA(),e.qZA(),e.TgZ(14,"div",2),e.TgZ(15,"input",10),e.NdJ("ngModelChange",function(s){return n.email=s}),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.TgZ(17,"div",2),e.TgZ(18,"input",10),e.NdJ("ngModelChange",function(s){return n.phone=s}),e.ALo(19,"translate"),e.qZA(),e.qZA(),e.TgZ(20,"div",2),e.TgZ(21,"button",11),e.NdJ("click",function(){return n.getData()}),e.SDv(22,12),e.qZA(),e.qZA(),e.qZA(),e.YNc(23,d,1,0,"app-skeleton-table",13),e.YNc(24,b,17,4,"ng-template",null,14,e.W1O)),2&t){const i=e.MAs(25);e.xp6(6),e.Oqu(n.data.total),e.xp6(6),e.Q6J("placeholder",e.lcZ(13,9,"\u6635\u79f0"))("ngModel",n.userName),e.xp6(3),e.Q6J("placeholder",e.lcZ(16,11,"\u90ae\u7bb1"))("ngModel",n.email),e.xp6(3),e.Q6J("placeholder",e.lcZ(19,13,"\u624b\u673a"))("ngModel",n.phone),e.xp6(5),e.Q6J("ngIf",n.loading)("ngIfElse",i)}},directives:[S.Pi,r.Fj,r.JJ,r.On,_.O5,E.i,_.sg,M.H,c.P,g.yS],pipes:[S.X$],styles:[""]}),o})();var N=a(6588),f=a(7732);function y(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"a",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().showUserData(i.data)}),e.SDv(1,36),e.qZA()}}function x(o,l){if(1&o&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"div"),e._uU(3),e.qZA(),e._UZ(4,"img",33),e.qZA(),e.TgZ(5,"td"),e.TgZ(6,"h4"),e._uU(7),e.qZA(),e._UZ(8,"img",13),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e._UZ(15,"br"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e._UZ(19,"br"),e._uU(20),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.qZA(),e.TgZ(23,"td"),e.YNc(24,y,2,0,"a",34),e.qZA(),e.qZA()),2&o){const t=l.$implicit;e.xp6(3),e.Oqu(t.appName),e.xp6(1),e.s9C("src",t.appLogo,e.LSH),e.xp6(3),e.Oqu(t.nickName),e.xp6(1),e.s9C("src",t.avatar,e.LSH),e.xp6(2),e.Oqu(t.platform),e.xp6(2),e.Oqu(t.unionID),e.xp6(2),e.hij(" ",t.phone,""),e.xp6(2),e.hij(" ",t.phoneIsValid?"\u5df2\u9a8c\u8bc1":""," "),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.emailIsValid?"\u5df2\u9a8c\u8bc1":""),e.xp6(2),e.Oqu(t.lastUpdate),e.xp6(2),e.Q6J("ngIf",t.data)}}const L=function(){return["/users"]};let B=(()=>{class o{constructor(t,n){this.serv=t,this.route=n,this.oauthusers=[],this.user={},this.loading=!1}ngOnInit(){this.route.params.subscribe(t=>{this.id=t.id,this.getData()})}getData(){this.loading=!0,this.serv.User(this.id).subscribe(t=>{this.loading=!1,this.user=t.data.user,this.oauthusers=t.data.oauthusers})}showUserData(t){N.R.fire({html:t})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(U.K),e.Y36(g.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-user-profile"]],decls:62,vars:12,consts:function(){let l,t,n,i,s,Z,A,u,P,C,T,R,I,q,D;return l=$localize`:@@用户资料:用户资料`,t=$localize`:@@返回:返回`,n=$localize`:@@账号:账号`,i=$localize`:@@昵称:昵称`,s=$localize`:@@邮箱:邮箱`,Z=$localize`:@@手机:手机`,A=$localize`:@@返回:返回`,u=$localize`:@@子账号:子账号`,P=$localize`:@@应用:应用`,C=$localize`:@@用户:用户`,T=$localize`:@@来源:来源`,R=$localize`:@@手机:手机`,I=$localize`:@@邮箱:邮箱`,q=$localize`:@@最后更新:最后更新`,D=$localize`:@@数据:数据`,[[1,"page-header","mt-0","mb-3"],[1,"row","align-items-center"],[1,"col"],["translate","",1,"page-title"],l,[1,"col-auto","ms-auto","d-print-none"],["matRipple","","translate","",1,"btn","btn-white",3,"routerLink"],t,[1,"row"],[1,"col-md-6","col-12"],[1,"card"],[1,"card-body"],[1,"mb-3"],["width","32px","onerror","this.src='./assets/user_default.png'",3,"src"],["translate","",1,"form-label"],n,i,[1,"form-label"],["translate",""],s,Z,["matRipple","","translate","",1,"btn","btn-white","mx-2",3,"routerLink"],A,u,[1,"table-responsive","border-top"],[1,"table","card-table","table-vcenter","text-nowrap","datatable","table-hover"],P,C,T,R,I,q,[4,"ngFor","ngForOf"],["width","32px",3,"src"],["href","javascript:void(0)","class","btn btn-white","matRipple","","translate","",3,"click",4,"ngIf"],["href","javascript:void(0)","matRipple","","translate","",1,"btn","btn-white",3,"click"],D]},template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h2",3),e.SDv(4,4),e.qZA(),e.qZA(),e.TgZ(5,"div",5),e.TgZ(6,"a",6),e.SDv(7,7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",8),e.TgZ(9,"div",9),e.TgZ(10,"div",10),e.TgZ(11,"div",11),e.TgZ(12,"div",12),e._UZ(13,"img",13),e.qZA(),e.TgZ(14,"div",12),e.TgZ(15,"label",14),e.SDv(16,15),e.qZA(),e._uU(17),e.qZA(),e.TgZ(18,"div",12),e.TgZ(19,"label",14),e.SDv(20,16),e.qZA(),e._uU(21),e.qZA(),e.TgZ(22,"div",12),e.TgZ(23,"label",17),e.TgZ(24,"span",18),e.SDv(25,19),e.qZA(),e._uU(26),e.qZA(),e._uU(27),e.qZA(),e.TgZ(28,"div",12),e.TgZ(29,"label",17),e.TgZ(30,"span",18),e.SDv(31,20),e.qZA(),e._uU(32),e.qZA(),e._uU(33),e.qZA(),e.TgZ(34,"div"),e.TgZ(35,"a",21),e.SDv(36,22),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"div",9),e.TgZ(38,"h3",18),e.SDv(39,23),e.qZA(),e.TgZ(40,"div",10),e.TgZ(41,"div",24),e.TgZ(42,"table",25),e.TgZ(43,"thead"),e.TgZ(44,"tr"),e.TgZ(45,"th",18),e.SDv(46,26),e.qZA(),e.TgZ(47,"th",18),e.SDv(48,27),e.qZA(),e.TgZ(49,"th",18),e.SDv(50,28),e.qZA(),e.TgZ(51,"th"),e._uU(52,"unionID"),e.qZA(),e.TgZ(53,"th",18),e.SDv(54,29),e.qZA(),e.TgZ(55,"th",18),e.SDv(56,30),e.qZA(),e.TgZ(57,"th",18),e.SDv(58,31),e.qZA(),e._UZ(59,"th"),e.qZA(),e.qZA(),e.TgZ(60,"tbody"),e.YNc(61,x,25,12,"tr",32),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(6),e.Q6J("routerLink",e.DdM(10,L)),e.xp6(7),e.s9C("src",n.user.avatar,e.LSH),e.xp6(4),e.hij(" ",n.user.userName," "),e.xp6(4),e.hij(" ",n.user.nickName," "),e.xp6(5),e.Oqu(n.user.emailIsValid?" - \u5df2\u9a8c\u8bc1":""),e.xp6(1),e.hij(" ",n.user.email," "),e.xp6(5),e.Oqu(n.user.phoneIsValid?" - \u5df2\u9a8c\u8bc1":""),e.xp6(1),e.hij(" ",n.user.phone," "),e.xp6(2),e.Q6J("routerLink",e.DdM(11,L)),e.xp6(26),e.Q6J("ngForOf",n.oauthusers))},directives:[S.Pi,g.yS,f.wG,_.sg,_.O5],styles:[""]}),o})();var J=a(4555),z=a(8992),k=a(8687);function w(o,l){if(1&o&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&o){const t=l.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Q(o,l){if(1&o&&(e.TgZ(0,"optgroup",20),e.YNc(1,w,2,2,"option",21),e.qZA()),2&o){const t=l.$implicit;e.s9C("label",t.name),e.xp6(1),e.Q6J("ngForOf",t.apps.data)}}function j(o,l){1&o&&e._UZ(0,"app-skeleton-table")}function Y(o,l){if(1&o&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._UZ(2,"img",35),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.qZA()),2&o){const t=l.$implicit;e.xp6(2),e.Q6J("src",t.avatar,e.LSH),e.xp6(1),e.hij(" ",t.userName," "),e.xp6(2),e.Oqu(t.nickName),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.phone),e.xp6(2),e.Oqu(t.createDate),e.xp6(2),e.Oqu(t.data)}}function H(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",23),e.TgZ(1,"div",24),e.TgZ(2,"table",25),e.TgZ(3,"thead"),e.TgZ(4,"tr"),e.TgZ(5,"th",6),e.SDv(6,26),e.qZA(),e.TgZ(7,"th",6),e.SDv(8,27),e.qZA(),e.TgZ(9,"th",6),e.SDv(10,28),e.qZA(),e.TgZ(11,"th",6),e.SDv(12,29),e.qZA(),e.TgZ(13,"th",6),e.SDv(14,30),e.qZA(),e.TgZ(15,"th",6),e.SDv(16,31),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"tbody"),e.YNc(18,Y,14,7,"tr",32),e.qZA(),e.qZA(),e.qZA(),e._UZ(19,"app-nodata",33),e.TgZ(20,"app-pager",34),e.NdJ("onemit",function(i){return e.CHM(t),e.oxw().onemit(i)}),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(18),e.Q6J("ngForOf",t.data.data),e.xp6(1),e.Q6J("show",t.data.data.length<1)("className","my-5"),e.xp6(1),e.Q6J("data",t.data)}}let K=(()=>{class o{constructor(t,n,i){this.serv=t,this.projServ=n,this.appServ=i,this.appid=0,this.userName="",this.email="",this.phone="",this.platform="",this.unionId="",this.loading=!1,this.data={skip:0,take:10,data:[],total:0},this.projects={skip:0,take:9999,data:[],total:0},this.apps={skip:0,take:9999,data:[],total:0}}ngOnInit(){this.getProjects(),this.getData()}getProjects(){this.projServ.Projects(this.projects.skip,this.projects.take).subscribe(t=>{t.data.data.forEach(n=>{this.getApps(n)}),this.projects.data=t.data.data,this.projects.total=t.data.total})}getApps(t){t.apps={data:[]},this.appServ.Apps(t.id,this.apps.skip,this.apps.take).subscribe(n=>{t.apps.data=n.data.data})}getData(){this.loading=!0,this.serv.AppUsers(this.appid,this.userName,this.email,this.phone,this.platform,this.unionId,this.data.skip,this.data.take).subscribe(t=>{this.loading=!1,this.data.total=t.data.total,this.data.data=t.data.data})}onemit(t){this.data.skip=t,this.getData()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(J.s),e.Y36(z.m),e.Y36(k.b))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-appusers"]],decls:36,vars:22,consts:function(){let l,t,n,i,s,Z,A,u,P,C;return l=$localize`:@@用户池:用户池`,t=$localize`:@@条数据:条数据`,n=$localize`:@@全部:全部`,i=$localize`:@@查询:查询`,s=$localize`:@@用户名:用户名`,Z=$localize`:@@昵称:昵称`,A=$localize`:@@邮箱:邮箱`,u=$localize`:@@手机:手机`,P=$localize`:@@创建时间:创建时间`,C=$localize`:@@数据:数据`,[[1,"page-header","mt-0","mb-3"],[1,"row","align-items-center"],[1,"col"],["translate","",1,"page-title"],l,[1,"text-muted","mt-1"],["translate",""],t,[1,"col-auto","ms-auto","d-print-none"],[1,"row","g-3","mb-3"],[1,"form-select",3,"ngModel","ngModelChange"],["value","0","translate",""],n,[3,"label",4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","placeholder","unionId",1,"form-control",3,"ngModel","ngModelChange"],["type","button","translate","",1,"btn","btn-indigo",3,"click"],i,[4,"ngIf","ngIfElse"],["templateName",""],[3,"label"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"card"],[1,"table-responsive","border-top"],[1,"table","card-table","table-vcenter","text-nowrap","datatable","table-hover"],s,Z,A,u,P,C,[4,"ngFor","ngForOf"],[3,"show","className"],[3,"data","onemit"],["width","28px","onerror","this.src='./assets/user_default.png'",1,"img-fluid",3,"src"]]},template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h2",3),e.SDv(4,4),e.qZA(),e.TgZ(5,"div",5),e._uU(6),e.TgZ(7,"span",6),e.SDv(8,7),e.qZA(),e.qZA(),e.qZA(),e._UZ(9,"div",8),e.qZA(),e.qZA(),e.TgZ(10,"div",9),e.TgZ(11,"div",2),e.TgZ(12,"select",10),e.NdJ("ngModelChange",function(s){return n.appid=s}),e.TgZ(13,"option",11),e.SDv(14,12),e.qZA(),e.YNc(15,Q,2,2,"optgroup",13),e.qZA(),e.qZA(),e.TgZ(16,"div",2),e.TgZ(17,"input",14),e.NdJ("ngModelChange",function(s){return n.userName=s}),e.ALo(18,"translate"),e.qZA(),e.qZA(),e.TgZ(19,"div",2),e.TgZ(20,"input",14),e.NdJ("ngModelChange",function(s){return n.email=s}),e.ALo(21,"translate"),e.qZA(),e.qZA(),e.TgZ(22,"div",2),e.TgZ(23,"input",14),e.NdJ("ngModelChange",function(s){return n.phone=s}),e.ALo(24,"translate"),e.qZA(),e.qZA(),e.TgZ(25,"div",2),e.TgZ(26,"input",14),e.NdJ("ngModelChange",function(s){return n.platform=s}),e.ALo(27,"translate"),e.qZA(),e.qZA(),e.TgZ(28,"div",2),e.TgZ(29,"input",15),e.NdJ("ngModelChange",function(s){return n.unionId=s}),e.qZA(),e.qZA(),e.TgZ(30,"div",2),e.TgZ(31,"button",16),e.NdJ("click",function(){return n.getData()}),e.SDv(32,17),e.qZA(),e.qZA(),e.qZA(),e.YNc(33,j,1,0,"app-skeleton-table",18),e.YNc(34,H,21,4,"ng-template",null,19,e.W1O)),2&t){const i=e.MAs(35);e.xp6(6),e.Oqu(n.data.total),e.xp6(6),e.Q6J("ngModel",n.appid),e.xp6(3),e.Q6J("ngForOf",n.projects.data),e.xp6(2),e.Q6J("placeholder",e.lcZ(18,14,"\u6635\u79f0"))("ngModel",n.userName),e.xp6(3),e.Q6J("placeholder",e.lcZ(21,16,"\u90ae\u7bb1"))("ngModel",n.email),e.xp6(3),e.Q6J("placeholder",e.lcZ(24,18,"\u624b\u673a"))("ngModel",n.phone),e.xp6(3),e.Q6J("placeholder",e.lcZ(27,20,"\u5e73\u53f0"))("ngModel",n.platform),e.xp6(3),e.Q6J("ngModel",n.unionId),e.xp6(4),e.Q6J("ngIf",n.loading)("ngIfElse",i)}},directives:[S.Pi,r.EJ,r.JJ,r.On,r.YN,r.Kr,_.sg,r.Fj,_.O5,E.i,M.H,c.P],pipes:[S.X$],styles:[""]}),o})();var W=a(8239),V=a(9091),m=a(9861),ee=a(4954);const h=function(){return["/"]},_e=[{path:"",component:X},{path:"appusers",component:K},{path:"profile",component:(()=>{class o{constructor(t,n,i,s,Z){this.serv=t,this.auth=n,this.spinner=i,this.blob=s,this.translate=Z,this.user={}}ngOnInit(){this.spinner.show(),this.serv.User(this.auth.user.id).subscribe(t=>{this.spinner.hide(),this.user=t.data.user})}putProfile(){var t=this;return(0,W.Z)(function*(){!(yield N.R.fire({icon:"warning",titleText:t.translate.instant("\u662f\u5426\u786e\u8ba4\u63d0\u4ea4?"),showCancelButton:!0})).isConfirmed||t.serv.UserPut(t.user.id,t.user).subscribe(i=>{N.F.fire(200==i.code?{icon:"success",titleText:t.translate.instant("\u66f4\u65b0\u6210\u529f\uff01")}:{icon:"error",titleText:i.err})})})()}uploadAvatarFile(t){var n=t.currentTarget.files[0],i=new FormData;i.append("file",n),this.blob.TenantBlobUpload("user",this.user.id,i).subscribe(s=>{200==s.code?this.user.avatar=s.data:N.F.fire({icon:"error",titleText:s.err})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(U.K),e.Y36(V.e),e.Y36(m.t2),e.Y36(ee.R),e.Y36(S.sK))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-user-setting"]],decls:54,vars:12,consts:function(){let l,t,n,i,s,Z,A,u,P,C,T;return l=$localize`:@@设置:设置`,t=$localize`:@@注册于:注册于`,n=$localize`:@@最近更新:最近更新`,i=$localize`:@@返回:返回`,s=$localize`:@@账号:账号`,Z=$localize`:@@密码:密码`,A=$localize`:@@昵称:昵称`,u=$localize`:@@邮箱:邮箱`,P=$localize`:@@验证:验证`,C=$localize`:@@手机:手机`,T=$localize`:@@验证:验证`,[[1,"page-header","mt-0","mb-3"],[1,"row","align-items-center"],[1,"col"],["translate","",1,"page-title"],l,[1,"text-muted","mt-1"],["translate",""],t,n,[1,"col-auto","ms-auto","d-print-none"],["matRipple","","translate","",1,"btn","btn-white",3,"routerLink"],i,[1,"row"],[1,"col-md-6","col-12"],[1,"card"],[1,"card-body"],[1,"mb-3"],["width","64px","onclick","$('#uploadAvatarFileInput').click()",1,"border","p-1",3,"src"],["type","file","id","uploadAvatarFileInput",1,"d-none",3,"change"],["translate","",1,"form-label"],s,Z,["type","password",1,"form-control",3,"ngModel","ngModelChange"],A,[1,"form-control",3,"ngModel","ngModelChange"],u,[1,"input-group"],["type","button","translate","",1,"btn","btn-white"],P,C,T,["type","button","matRipple","","translate","",1,"btn","btn-indigo",3,"click"],["matRipple","","translate","",1,"btn","btn-white","mx-2",3,"routerLink"],["size","default","color","#fff","type","ball-beat"]]},template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h2",3),e.SDv(4,4),e.qZA(),e.TgZ(5,"div",5),e.TgZ(6,"span",6),e.SDv(7,7),e.qZA(),e._uU(8),e.TgZ(9,"span",6),e.SDv(10,8),e.qZA(),e._uU(11),e.qZA(),e.qZA(),e.TgZ(12,"div",9),e.TgZ(13,"a",10),e.SDv(14,11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",12),e.TgZ(16,"div",13),e.TgZ(17,"div",14),e.TgZ(18,"div",15),e.TgZ(19,"div",16),e._UZ(20,"img",17),e.TgZ(21,"input",18),e.NdJ("change",function(s){return n.uploadAvatarFile(s)}),e.qZA(),e.qZA(),e.TgZ(22,"div",16),e.TgZ(23,"label",19),e.SDv(24,20),e.qZA(),e._uU(25),e.qZA(),e.TgZ(26,"div",16),e.TgZ(27,"label",19),e.SDv(28,21),e.qZA(),e.TgZ(29,"input",22),e.NdJ("ngModelChange",function(s){return n.user.password=s}),e.qZA(),e.qZA(),e.TgZ(30,"div",16),e.TgZ(31,"label",19),e.SDv(32,23),e.qZA(),e.TgZ(33,"input",24),e.NdJ("ngModelChange",function(s){return n.user.nickName=s}),e.qZA(),e.qZA(),e.TgZ(34,"div",16),e.TgZ(35,"label",19),e.SDv(36,25),e.qZA(),e.TgZ(37,"div",26),e.TgZ(38,"input",24),e.NdJ("ngModelChange",function(s){return n.user.email=s}),e.qZA(),e.TgZ(39,"button",27),e.SDv(40,28),e.qZA(),e.qZA(),e.qZA(),e.TgZ(41,"div",16),e.TgZ(42,"label",19),e.SDv(43,29),e.qZA(),e.TgZ(44,"div",26),e.TgZ(45,"input",24),e.NdJ("ngModelChange",function(s){return n.user.mobile=s}),e.qZA(),e.TgZ(46,"button",27),e.SDv(47,30),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"div",16),e.TgZ(49,"button",31),e.NdJ("click",function(){return n.putProfile()}),e._uU(50,"\u66f4\u65b0"),e.qZA(),e.TgZ(51,"a",32),e._uU(52,"\u8fd4\u56de"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(53,"ngx-spinner",33)),2&t&&(e.xp6(8),e.hij("\uff1a",null==n.user.createDate?null:n.user.createDate.substr(0,10)," - "),e.xp6(3),e.hij("\uff1a",null==n.user.lastUpdate?null:n.user.lastUpdate.substr(0,10),""),e.xp6(2),e.Q6J("routerLink",e.DdM(10,h)),e.xp6(7),e.Q6J("src",n.user.avatar,e.LSH),e.xp6(5),e.hij(" ",n.user.userName," "),e.xp6(4),e.Q6J("ngModel",n.user.password),e.xp6(4),e.Q6J("ngModel",n.user.nickName),e.xp6(5),e.Q6J("ngModel",n.user.email),e.xp6(7),e.Q6J("ngModel",n.user.mobile),e.xp6(6),e.Q6J("routerLink",e.DdM(11,h)))},directives:[S.Pi,g.yS,f.wG,r.Fj,r.JJ,r.On,m.Ro],styles:[""]}),o})()},{path:":id",component:B}];let te=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[g.Bz.forChild(_e)],g.Bz]}),o})();var ne=a(1382),oe=a(4522),ie=a(7623),se=a(8260);function $(o){return new ie.w(o,se.N.i18n_asset_prefix)}let le=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[_.ez,r.u5,ne.m,te,S.aw.forChild({loader:{provide:S.Zw,useFactory:$,deps:[oe.eN]},isolate:!1,extend:!0})]]}),o})()}}]);